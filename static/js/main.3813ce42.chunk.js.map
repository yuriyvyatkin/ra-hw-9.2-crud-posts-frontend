{"version":3,"sources":["components/Button/Button.js","hocs/withNavigate.js","components/Note/Note.js","components/Note/NoteControls/NoteControls.js","components/Pages/HomePage/HomePage.js","components/Form/Form.js","components/Pages/CreateNotePage/CreateNotePage.js","components/Pages/ViewNotePage/ViewNotePage.js","functions/initFetch.js","App.js","hocs/withParams.js","reportWebVitals.js","index.js"],"names":["Button","this","props","className","type","onHandleClick","content","onClick","React","Component","withNavigate","WrappedComponent","WithNavigate","navigate","useNavigate","wrappedComponentName","displayName","name","NoteControlsWithNavigate","handleEditClick","onEditClick","handleDeleteClick","onDeleteClick","Note","getDistanceToNow","bind","created","formatDistanceToNowStrict","Date","Number","locale","ruLocale","id","text","onView","noteControls","textWithLink","to","Home","notes","map","Form","state","textRef","createRef","handleInputChange","handleGoBack","_","prevState","current","focus","target","value","setState","prevForm","title","handleFormSubmit","onSubmit","btnName","handleGoBackClick","onGoBackClick","event","preventDefault","htmlFor","onChange","ref","rows","autoComplete","required","href","FormWithNavigate","CreateNotePage","onFormSubmit","ViewNotePage","editingMode","toggleEditingMode","get","params","then","data","catch","error","console","log","note","editing","baseUrl","url","Promise","resolve","reject","fetch","response","json","post","body","method","headers","JSON","stringify","del","ViewNotePageWithParams","WithParams","useParams","withParams","App","basename","process","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3813ce42.chunk.js","sourcesContent":["import React from 'react';\nimport './Button.css';\n\nclass Button extends React.Component {\n  render() {\n    const {\n      className,\n      type = 'button',\n      onHandleClick,\n      content,\n    } = this.props;\n\n    return (\n      <button\n        className={`Button ${className}`}\n        type={type}\n        onClick={onHandleClick}\n      >\n        {content}\n      </button>\n    );\n  }\n}\n\nexport default Button;\n","import { useNavigate } from 'react-router-dom';\n\nexport default function withNavigate(WrappedComponent) {\n  function WithNavigate(props) {\n    const navigate = useNavigate();\n\n    return <WrappedComponent {...props} navigate={navigate} />;\n  }\n\n  const wrappedComponentName = WrappedComponent.displayName\n    || WrappedComponent.name\n    || 'Component';\n\n  WithNavigate.displayName = `withNavigate(${wrappedComponentName})`;\n  return WithNavigate;\n};\n","import ruLocale from 'date-fns/locale/ru';\nimport { formatDistanceToNowStrict } from 'date-fns';\nimport { Link } from \"react-router-dom\";\nimport React from 'react';\nimport './Note.css';\nimport NoteControls from './NoteControls/NoteControls';\nimport withNavigate from '../../hocs/withNavigate';\n\nconst NoteControlsWithNavigate = withNavigate(NoteControls);\n\nclass Note extends React.Component {\n  constructor(props) {\n    super(props);\n    this.getDistanceToNow = this.getDistanceToNow.bind(this);\n  }\n\n  getDistanceToNow(created) {\n    const result = formatDistanceToNowStrict(\n      new Date(Number(created)),\n      { locale: ruLocale }\n    );\n\n    return result;\n  }\n\n  render() {\n    const {\n      id,\n      text,\n      created,\n      onEditClick: handleEditClick,\n      onDeleteClick: handleDeleteClick,\n      onView\n    } = this.props;\n\n    const noteControls = <NoteControlsWithNavigate\n      onEditClick={handleEditClick}\n      onDeleteClick={() => handleDeleteClick(id)}\n    />;\n\n    const textWithLink = <Link to={`/notes/${id}`}>\n      {text}\n    </Link>;\n\n    return (\n      <div className=\"Note\">\n        <span className=\"Note__elapsed-time\">\n          {this.getDistanceToNow(created)}\n        </span>\n        <div className=\"Note-body\" id={id}>\n          <p className={onView && \"Note-body__text\"}>\n            {onView ? text : textWithLink}\n          </p>\n        </div>\n        {handleDeleteClick && noteControls}\n      </div>\n    );\n  }\n}\n\nexport default Note;\n\n","import React from 'react';\nimport './NoteControls.css';\nimport Button from '../../Button/Button';\n\nclass NoteControls extends React.Component {\n  render() {\n    const {\n      onEditClick: handleEditClick,\n      onDeleteClick: handleDeleteClick,\n    } = this.props;\n\n    return (\n      <div className=\"Note-controls\">\n        <Button\n          className=\"Note-controls__button-edit\"\n          content=\"Изменить\"\n          onHandleClick={handleEditClick}\n        />\n        <Button\n          className=\"Note-controls__button-delete\"\n          content=\"Удалить\"\n          type=\"submit\"\n          onHandleClick={() => {\n            this.props.navigate(\"/\");\n            handleDeleteClick();\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default NoteControls;\n","import { Link } from \"react-router-dom\";\nimport React from 'react';\nimport '../Page.css';\nimport './HomePage.css';\nimport Button from '../../Button/Button';\nimport Note from '../../Note/Note';\n\nclass Home extends React.Component {\n  render() {\n    return (\n      <div className=\"Page\">\n        <Button\n          className=\"Home__button-create\"\n          content={<Link to=\"/notes/new\">Создать запись</Link>}\n        />\n        <div className=\"Home__notes-container\">\n          {this.props.notes.map(({ id, text, created }) => {\n            return (\n              <Note\n                key={id}\n                id={id}\n                text={text}\n                created={created}\n              />\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React from 'react';\nimport './Form.css';\nimport Button from '../Button/Button';\n\nclass Form extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { id: this.props.id, text: this.props.text };\n    this.textRef = React.createRef();\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleGoBack = this.handleGoBack.bind(this);\n  }\n\n  componentDidUpdate(_, prevState) {\n    if (prevState.text === '') {\n      this.textRef.current.focus();\n    }\n  }\n\n  handleInputChange({ target }) {\n    const { name, value } = target;\n\n    this.setState(prevForm => ({ ...prevForm, [name]: value }));\n  }\n\n  handleGoBack() {\n    this.props.navigate(-1);\n  }\n\n  render() {\n    const {\n      title,\n      onSubmit: handleFormSubmit,\n      btnName,\n      onGoBackClick: handleGoBackClick,\n    } = this.props;\n\n    return (\n      <form\n        className=\"Form\"\n        onSubmit={(event) => {\n          event.preventDefault();\n          this.handleGoBack();\n          handleFormSubmit(this.state);\n        }}\n      >\n        <div className=\"Form-control\">\n          <label htmlFor=\"text\">{title}</label>\n          <textarea\n            className=\"Form-control__text\"\n            type=\"text\"\n            id=\"text\"\n            name=\"text\"\n            value={this.state.text}\n            onChange={this.handleInputChange}\n            ref={this.textRef}\n            rows=\"3\"\n            autoComplete=\"off\"\n            required\n          />\n        </div>\n        <Button\n          className=\"Form-control__button-add\"\n          type=\"submit\"\n          content={btnName}\n        />\n        <a\n          href=\"#0\"\n          className=\"Form__button-go-back\"\n          onClick={handleGoBackClick || this.handleGoBack}\n        >\n          &times;\n        </a>\n      </form>\n    );\n  }\n}\n\nexport default Form;\n","import React from 'react';\nimport '../Page.css';\nimport Form from '../../Form/Form';\nimport withNavigate from '../../../hocs/withNavigate';\n\nconst FormWithNavigate = withNavigate(Form);\n\nclass CreateNotePage extends React.Component {\n  render() {\n    return (\n      <div className=\"Page\">\n        <FormWithNavigate\n          title=\"Новый пост\"\n          btnName=\"Опубликовать\"\n          onSubmit={this.props.onFormSubmit}\n        />\n      </div>\n    );\n  }\n}\n\nexport default CreateNotePage;\n","import React from 'react';\nimport '../Page.css';\nimport Form from '../../Form/Form';\nimport Note from '../../Note/Note';\nimport withNavigate from '../../../hocs/withNavigate';\n\nconst FormWithNavigate = withNavigate(Form);\n\nclass ViewNotePage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      text: '',\n      created: '',\n      editingMode: false,\n    };\n    this.toggleEditingMode = this.toggleEditingMode.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.get(`notes/?id=${this.props.params.id}`)\n      .then((data) => {\n        this.setState({ ...data });\n      })\n      .catch((error) => console.log(\"Could not load the note\", error));\n  }\n\n  toggleEditingMode() {\n    this.setState({ editingMode: !this.state.editingMode })\n  }\n\n  render() {\n    const {\n      id,\n      text,\n      created,\n    } = this.state;\n\n    const {\n      onDeleteClick: handleDeleteClick,\n    } = this.props;\n\n    const note = <Note\n      id={id}\n      text={text}\n      created={created}\n      onEditClick={this.toggleEditingMode}\n      onDeleteClick={handleDeleteClick}\n      onView={true}\n    />;\n\n    const editing = <FormWithNavigate\n      id={id}\n      text={text}\n      title=\"Редактировать публикацию\"\n      btnName=\"Сохранить\"\n      onSubmit={this.props.onFormSubmit}\n      onGoBackClick={this.toggleEditingMode}\n    />;\n\n    return (\n      <div className=\"Page\">\n        {!this.state.editingMode ? note : editing}\n      </div>\n    );\n  }\n}\n\nexport default ViewNotePage;\n","export default function initFetch(baseUrl) {\n  function get(url) {\n    return new Promise((resolve, reject) => {\n      fetch(baseUrl + url)\n        .then((response) => response.json())\n        .then((data) => {\n          if (!data) {\n            return reject(data);\n          }\n          resolve(data);\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  }\n\n  function post(url, body) {\n    return new Promise((resolve, reject) => {\n      fetch(baseUrl + url, {\n        ...{\n          method: \"post\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(body),\n        },\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          if (!data) {\n            return reject(data);\n          }\n          resolve(data);\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  }\n\n  function del(url) {\n    return new Promise((resolve, reject) => {\n      fetch(baseUrl + url, { method: \"delete\" })\n        .then((response) => response.json())\n        .then((data) => {\n          if (!data) {\n            return reject(data);\n          }\n          resolve(data);\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  }\n\n  return { get, post, del };\n}\n","import {BrowserRouter as Router, Routes, Route} from 'react-router-dom';\nimport React from 'react';\nimport './App.css';\nimport initFetch from './functions/initFetch';\nimport HomePage from './components/Pages/HomePage/HomePage';\nimport CreateNotePage from './components/Pages/CreateNotePage/CreateNotePage';\nimport ViewNotePage from './components/Pages/ViewNotePage/ViewNotePage';\nimport withParams from './hocs/withParams';\nconst { get, post, del } = initFetch('https://crud-posts-backend-2021.herokuapp.com/');\nconst ViewNotePageWithParams = withParams(ViewNotePage);\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      notes: [],\n    }\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.handleDeleteClick = this.handleDeleteClick.bind(this);\n  }\n\n  componentDidMount() {\n    get('notes/')\n      .then((data) => {\n        this.setState({ notes: data });\n      })\n      .catch((error) => console.log(\"Could not load notes\", error));\n  }\n\n  handleFormSubmit({ id, text }) {\n    post('notes/', { id, text })\n      .then((data) => {\n        this.setState({ notes: data });\n      })\n      .catch((error) => console.log(\"Could not upload the note\", error));\n  }\n\n  handleDeleteClick(id) {\n    del(`notes/${id}`)\n      .then((data) => {\n        this.setState({ notes: data });\n      })\n      .catch((error) => console.log(\"Could not delete the note\", error));\n  }\n\n  render() {\n    return (\n      <Router basename={process.env.PUBLIC_URL}>\n        <div className=\"App\">\n          <div className=\"App-wrapper\">\n            <main>\n              <Routes>\n                <Route\n                  path=\"/\"\n                  element={\n                    <HomePage\n                      notes={this.state.notes}\n                    />\n                  }\n                />\n                <Route\n                  path=\"/notes/new\"\n                  element={\n                    <CreateNotePage\n                      onFormSubmit={this.handleFormSubmit}\n                    />\n                  }\n                />\n                <Route\n                  path=\"/notes/:id\"\n                  element={\n                    <ViewNotePageWithParams\n                      onFormSubmit={this.handleFormSubmit}\n                      onDeleteClick={this.handleDeleteClick}\n                      get={get}\n                    />\n                  }\n                />\n              </Routes>\n            </main>\n          </div>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import { useParams } from 'react-router-dom';\n\nexport default function withParams(WrappedComponent) {\n  function WithParams(props) {\n    const params = useParams();\n\n    return <WrappedComponent {...props} params={params} />;\n  }\n\n  const wrappedComponentName = WrappedComponent.displayName\n    || WrappedComponent.name\n    || 'Component';\n\n  WithParams.displayName = `withParams(${wrappedComponentName})`;\n  return WithParams;\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}